{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "properties": {
    "wntr-version": {
      "type": "string"
    },
    "name": {
      "type": "string"
    },
    "title": {
      "type": "string"
    },
    "description": {
      "type": [
        "null",
        "string"
      ]
    },
    "references": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "reaction_system": {
      "type": "object",
      "properties": {
        "species": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "species_type": {
                "type": "string"
              },
              "units": {
                "type": "string"
              },
              "atol": {
                "type": "null"
              },
              "rtol": {
                "type": "null"
              },
              "note": {
                "type": "string"
              }
            },
            "required": [
              "atol",
              "name",
              "note",
              "rtol",
              "species_type",
              "units"
            ]
          }
        },
        "constants": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "value": {
                "type": "number"
              },
              "units": {
                "type": "string"
              },
              "note": {
                "type": "string"
              }
            },
            "required": [
              "name",
              "note",
              "units",
              "value"
            ]
          }
        },
        "parameters": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "global_value": {
                "type": "number"
              },
              "note": {
                "type": "string"
              }
            },
            "required": [
              "global_value",
              "name"
            ]
          }
        },
        "terms": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string"
              },
              "expression": {
                "type": "string"
              },
              "note": {
                "type": "string"
              }
            },
            "required": [
              "expression",
              "name"
            ]
          }
        },
        "pipe_reactions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "species_name": {
                "type": "string"
              },
              "expression_type": {
                "type": "string"
              },
              "expression": {
                "type": "string"
              },
              "note": {
                "type": "string"
              }
            },
            "required": [
              "expression",
              "expression_type",
              "species_name"
            ]
          }
        },
        "tank_reactions": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "species_name": {
                "type": "string"
              },
              "expression_type": {
                "type": "string"
              },
              "expression": {
                "type": "string"
              },
              "note": {
                "type": "string"
              }
            },
            "required": [
              "expression",
              "expression_type",
              "species_name"
            ]
          }
        }
      },
      "required": [
        "constants",
        "parameters",
        "pipe_reactions",
        "species",
        "tank_reactions",
        "terms"
      ]
    },
    "network_data": {
      "type": "object",
      "properties": {
        "initial_quality": {
          "type": "object",
          "properties": {
            "AS3": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "AS5": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "AStot": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "AS5s": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "NH2CL": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "HOCL": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "NH3": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "NHCL2": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "I": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "OCL": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "NH4": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "ALK": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "H": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "OH": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "CO3": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "HCO3": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "H2CO3": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "chloramine": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "PB2": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "Nx": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            },
            "NX2": {
              "type": "object",
              "properties": {
                "global_value": {
                  "type": "number"
                },
                "node_values": {
                  "type": "object"
                },
                "link_values": {
                  "type": "object"
                }
              },
              "required": [
                "global_value",
                "link_values",
                "node_values"
              ]
            }
          }
        },
        "parameter_values": {
          "type": "object",
          "properties": {
            "k1": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "k2": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "k3": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "k4": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "k6": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "k7": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "k8": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "k9": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "k10": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            },
            "F": {
              "type": "object",
              "properties": {
                "pipe_values": {
                  "type": "object"
                },
                "tank_values": {
                  "type": "object"
                }
              },
              "required": [
                "pipe_values",
                "tank_values"
              ]
            }
          }
        },
        "sources": {
          "type": "object"
        },
        "patterns": {
          "type": "object"
        }
      },
      "required": [
        "initial_quality",
        "parameter_values",
        "patterns",
        "sources"
      ]
    },
    "options": {
      "type": "object",
      "properties": {
        "timestep": {
          "type": "integer"
        },
        "area_units": {
          "type": "string"
        },
        "rate_units": {
          "type": "string"
        },
        "solver": {
          "type": "string"
        },
        "coupling": {
          "type": "string"
        },
        "rtol": {
          "type": "number"
        },
        "atol": {
          "type": "number"
        },
        "compiler": {
          "type": "string"
        },
        "segments": {
          "type": "integer"
        },
        "peclet": {
          "type": "integer"
        },
        "report": {
          "type": "object",
          "properties": {
            "pagesize": {
              "type": "null"
            },
            "report_filename": {
              "type": "null"
            },
            "species": {
              "type": "object",
              "properties": {
                "PB2": {
                  "type": "string"
                }
              }
            },
            "species_precision": {
              "type": "object",
              "properties": {
                "PB2": {
                  "type": "integer"
                }
              }
            },
            "nodes": {
              "type": [
                "null",
                "string"
              ]
            },
            "links": {
              "type": [
                "null",
                "string"
              ]
            }
          },
          "required": [
            "links",
            "nodes",
            "pagesize",
            "report_filename",
            "species",
            "species_precision"
          ]
        }
      },
      "required": [
        "area_units",
        "atol",
        "compiler",
        "coupling",
        "peclet",
        "rate_units",
        "report",
        "rtol",
        "segments",
        "solver",
        "timestep"
      ]
    }
  },
  "required": [
    "description",
    "name",
    "network_data",
    "options",
    "reaction_system",
    "references",
    "title",
    "wntr-version"
  ]
}
